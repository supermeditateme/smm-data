{"version":3,"file":"annotations.js","sources":["../../../../js/lib/actions/annotations.js"],"sourcesContent":["export const SET_ANNOTATIONS = Symbol('SET_ANNOTATIONS');\nexport const CREATE_ANNOTATION = Symbol('CREATE_ANNOTATION');\nexport const SELECT_ANNOTATION = Symbol('SELECT_ANNOTATION');\nexport const MODIFY_ANNOTATION = Symbol('MODIFY_ANNOTATION');\nexport const DELETE_ANNOTATION = Symbol('DELETE_ANNOTATION');\n\nfunction checkAnnotation(annotation) {\n  if (\n    !(\n      'id' in annotation &&\n      'name' in annotation &&\n      'time' in annotation &&\n      'duration' in annotation\n    )\n  ) {\n    console.error('Invalid annotations!');\n  }\n}\n\nexport function setAnnotations(annotationsList) {\n  if (process.env.NODE_ENV === 'development') {\n    for (let annotation of annotationsList) {\n      checkAnnotation(annotation);\n    }\n  }\n\n  return {\n    type: SET_ANNOTATIONS,\n    payload: annotationsList,\n  };\n}\n\nexport function createAnnotation(annotation) {\n  if (process.env.NODE_ENV === 'development') {\n    checkAnnotation(annotation);\n  }\n\n  return {\n    type: CREATE_ANNOTATION,\n    payload: annotation,\n  };\n}\n\nexport function selectAnnotation(annotationId) {\n  return {\n    type: SELECT_ANNOTATION,\n    payload: annotationId,\n  };\n}\n\nexport function modifyAnnotation(annotation) {\n  if (process.env.NODE_ENV === 'development') {\n    checkAnnotation(annotation);\n  }\n\n  return {\n    type: MODIFY_ANNOTATION,\n    payload: annotation,\n  };\n}\n\nexport function deleteAnnotation(annotationId) {\n  return {\n    type: DELETE_ANNOTATION,\n    payload: annotationId,\n  };\n}\n\n// Define what should escape rollup tree-shaking, since we package preserved\n// file structure to npm.\n//\n// NODE_ENV condition is for consumer app: it should be able to tree-shake\n// whatever it wants.\nif (process.env.NODE_ENV === 'development') {\n  const externalAPI = {\n    SET_ANNOTATIONS,\n    CREATE_ANNOTATION,\n    SELECT_ANNOTATION,\n    MODIFY_ANNOTATION,\n    DELETE_ANNOTATION,\n\n    setAnnotations,\n    createAnnotation,\n    selectAnnotation,\n    modifyAnnotation,\n    deleteAnnotation,\n  };\n\n  window &&\n    window['This function does not exits'] &&\n    window['This function does not exits'](externalAPI);\n}\n"],"names":["SET_ANNOTATIONS","Symbol","CREATE_ANNOTATION","SELECT_ANNOTATION","MODIFY_ANNOTATION","DELETE_ANNOTATION","checkAnnotation","annotation","error","setAnnotations","annotationsList","process","env","NODE_ENV","createAnnotation","selectAnnotation","annotationId","modifyAnnotation","deleteAnnotation","externalAPI","window"],"mappings":";;IAAaA,kBAAkBC,OAAO,iBAAP,CAAxB;AACP,IAAaC,oBAAoBD,OAAO,mBAAP,CAA1B;AACP,IAAaE,oBAAoBF,OAAO,mBAAP,CAA1B;AACP,IAAaG,oBAAoBH,OAAO,mBAAP,CAA1B;AACP,IAAaI,oBAAoBJ,OAAO,mBAAP,CAA1B;;AAEP,SAASK,eAAT,CAAyBC,UAAzB,EAAqC;MAEjC,EACE,QAAQA,UAAR,IACA,UAAUA,UADV,IAEA,UAAUA,UAFV,IAGA,cAAcA,UAJhB,CADF,EAOE;YACQC,KAAR,CAAc,sBAAd;;;;AAIJ,AAAO,SAASC,cAAT,CAAwBC,eAAxB,EAAyC;MAC1CC,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;;;;;;2BACnBH,eAAvB,8HAAwC;YAA/BH,UAA+B;;wBACtBA,UAAhB;;;;;;;;;;;;;;;;;;SAIG;UACCP,eADD;aAEIU;GAFX;;;AAMF,AAAO,SAASI,gBAAT,CAA0BP,UAA1B,EAAsC;MACvCI,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;oBAC1BN,UAAhB;;;SAGK;UACCL,iBADD;aAEIK;GAFX;;;AAMF,AAAO,SAASQ,gBAAT,CAA0BC,YAA1B,EAAwC;SACtC;UACCb,iBADD;aAEIa;GAFX;;;AAMF,AAAO,SAASC,gBAAT,CAA0BV,UAA1B,EAAsC;MACvCI,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;oBAC1BN,UAAhB;;;SAGK;UACCH,iBADD;aAEIG;GAFX;;;AAMF,AAAO,SAASW,gBAAT,CAA0BF,YAA1B,EAAwC;SACtC;UACCX,iBADD;aAEIW;GAFX;;;;;;;;AAWF,IAAIL,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;MACpCM,cAAc;oCAAA;wCAAA;wCAAA;wCAAA;wCAAA;;kCAAA;sCAAA;sCAAA;sCAAA;;GAApB;;YAeEC,OAAO,8BAAP,CADF,IAEEA,OAAO,8BAAP,EAAuCD,WAAvC,CAFF;;;;;;;;;;;;;;"}