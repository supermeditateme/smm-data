{"version":3,"file":"index.js","sources":["../../../../../js/lib/components/Cursor/index.js"],"sourcesContent":["import React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { STORE_KEY } from '../../constants';\nimport { getCurrentPosition, getSecondWidth } from '../../selectors';\n\nclass Cursor extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      xCord: this.props.currentPosition || 0,\n    };\n  }\n\n  componentDidMount() {\n    document.documentElement.addEventListener(\n      'mousemove',\n      this._onMouseMove,\n      false\n    );\n  }\n\n  componentWillUnmount() {\n    document.documentElement.removeEventListener(\n      'mousemove',\n      this._onMouseMove,\n      false\n    );\n  }\n\n  _onMouseMove = e => {\n    const { scrollerXPosition } = this.props;\n\n    this.setState({ xCord: e.pageX - scrollerXPosition });\n  };\n\n  parseTime = time => {\n    const hours = String(Math.trunc((time / 3600) % 24)).padStart(2, '0');\n    const minutes = String(Math.trunc((time / 60) % 60)).padStart(2, '0');\n    const seconds = String(Math.trunc(time % 60)).padStart(2, '0');\n    const day = Math.trunc(time / (3600 * 24));\n\n    return (day > 0 ? 'd' + day + ' ' : '') + `${hours}:${minutes}:${seconds}`;\n  };\n\n  render() {\n    const { currentPosition, secondWidth } = this.props;\n    const { xCord } = this.state;\n\n    let cursorTime = this.parseTime((currentPosition + xCord) / secondWidth);\n\n    return (\n      <div\n        className=\"cursor\"\n        style={{\n          transform: `translateX(${currentPosition + xCord}px)`,\n        }}\n      >\n        <span className=\"cursorTime\">{cursorTime}</span>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  scrollerXPosition: state.presentation.scrollerXPosition,\n  currentPosition: getCurrentPosition(state),\n  secondWidth: getSecondWidth(state),\n});\n\nexport default connect(mapStateToProps, undefined, undefined, {\n  storeKey: STORE_KEY,\n})(Cursor);\n"],"names":["Cursor","props","_onMouseMove","scrollerXPosition","setState","xCord","e","pageX","parseTime","hours","String","Math","trunc","time","padStart","minutes","seconds","day","state","currentPosition","documentElement","addEventListener","removeEventListener","secondWidth","cursorTime","React","PureComponent","mapStateToProps","presentation","getCurrentPosition","getSecondWidth","connect","undefined","STORE_KEY"],"mappings":";;;;;;;;;;;;;;;;;;;;IAKMA;;;kBACQC,KAAZ,EAAmB;;;gHACXA,KADW;;UAwBnBC,YAxBmB,GAwBJ,aAAK;UACVC,iBADU,GACY,MAAKF,KADjB,CACVE,iBADU;;;YAGbC,QAAL,CAAc,EAAEC,OAAOC,EAAEC,KAAF,GAAUJ,iBAAnB,EAAd;KA3BiB;;UA8BnBK,SA9BmB,GA8BP,gBAAQ;UACZC,QAAQC,OAAOC,KAAKC,KAAL,CAAYC,OAAO,IAAR,GAAgB,EAA3B,CAAP,EAAuCC,QAAvC,CAAgD,CAAhD,EAAmD,GAAnD,CAAd;UACMC,UAAUL,OAAOC,KAAKC,KAAL,CAAYC,OAAO,EAAR,GAAc,EAAzB,CAAP,EAAqCC,QAArC,CAA8C,CAA9C,EAAiD,GAAjD,CAAhB;UACME,UAAUN,OAAOC,KAAKC,KAAL,CAAWC,OAAO,EAAlB,CAAP,EAA8BC,QAA9B,CAAuC,CAAvC,EAA0C,GAA1C,CAAhB;UACMG,MAAMN,KAAKC,KAAL,CAAWC,QAAQ,OAAO,EAAf,CAAX,CAAZ;;aAEO,CAACI,MAAM,CAAN,GAAU,MAAMA,GAAN,GAAY,GAAtB,GAA4B,EAA7B,KAAsCR,KAAtC,SAA+CM,OAA/C,SAA0DC,OAA1D,CAAP;KApCiB;;UAGZE,KAAL,GAAa;aACJ,MAAKjB,KAAL,CAAWkB,eAAX,IAA8B;KADvC;;;;;;wCAKkB;eACTC,eAAT,CAAyBC,gBAAzB,CACE,WADF,EAEE,KAAKnB,YAFP,EAGE,KAHF;;;;2CAOqB;eACZkB,eAAT,CAAyBE,mBAAzB,CACE,WADF,EAEE,KAAKpB,YAFP,EAGE,KAHF;;;;6BAsBO;mBACkC,KAAKD,KADvC;UACCkB,eADD,UACCA,eADD;UACkBI,WADlB,UACkBA,WADlB;UAEClB,KAFD,GAEW,KAAKa,KAFhB,CAECb,KAFD;;;UAIHmB,aAAa,KAAKhB,SAAL,CAAe,CAACW,kBAAkBd,KAAnB,IAA4BkB,WAA3C,CAAjB;;aAGEE;;;qBACY,QADZ;iBAES;wCACoBN,kBAAkBd,KAA3C;;;;;YAGI,WAAU,YAAhB;;;OAPJ;;;;;EA9CiBqB;;AA2DrB,IAAMC,kBAAkB,SAAlBA,eAAkB;SAAU;uBACbT,MAAMU,YAAN,CAAmBzB,iBADN;qBAEf0B,8BAAmBX,KAAnB,CAFe;iBAGnBY,0BAAeZ,KAAf;GAHS;CAAxB;;AAMA,eAAea,mBAAQJ,eAAR,EAAyBK,SAAzB,EAAoCA,SAApC,EAA+C;YAClDC;CADG,EAEZjC,MAFY,CAAf;;;;"}