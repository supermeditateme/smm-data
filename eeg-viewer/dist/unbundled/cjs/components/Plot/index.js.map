{"version":3,"file":"index.js","sources":["../../../../../js/lib/components/Plot/index.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport { STORE_KEY } from '../../constants';\nimport {\n  getCurrentSegmentRange,\n  getSegmentWidth,\n  getStepWidth,\n  getVisibleChannels,\n} from '../../selectors';\nimport SegmentCanvas from './SegmentCanvas';\n\nclass Plot extends Component {\n  render() {\n    const {\n      data,\n      stepWidthOptions,\n      currentSegmentRange,\n      visibleChannels,\n      height,\n      segWidth,\n    } = this.props;\n\n    const segHeight = height;\n\n    // TODO canvas segments are not connected (gaps in plot), FIXME\n\n    return (\n      <div className=\"plot\">\n        {currentSegmentRange.map(segNumber => (\n          <div\n            className=\"plotSegment\"\n            key={segNumber}\n            style={{ transform: `translateX(${segNumber * segWidth}px)` }}\n          >\n            <SegmentCanvas\n              key={segNumber}\n              visibleChannels={visibleChannels}\n              stepWidthOptions={stepWidthOptions}\n              segment30s={data.onScreenCoordinates[segNumber]}\n              segWidth={segWidth}\n              height={segHeight}\n            />\n          </div>\n        ))}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  data: state.data,\n  stepWidthOptions: getStepWidth(state),\n  segWidth: getSegmentWidth(state),\n  currentSegmentRange: getCurrentSegmentRange(state),\n  visibleChannels: getVisibleChannels(state),\n  height: state.presentation.viewportHeight,\n});\n\nexport default connect(mapStateToProps, undefined, undefined, {\n  storeKey: STORE_KEY,\n})(Plot);\n"],"names":["Plot","props","data","stepWidthOptions","currentSegmentRange","visibleChannels","height","segWidth","segHeight","React","map","segNumber","transform","SegmentCanvas","onScreenCoordinates","Component","mapStateToProps","state","getStepWidth","getSegmentWidth","getCurrentSegmentRange","getVisibleChannels","presentation","viewportHeight","connect","undefined","STORE_KEY"],"mappings":";;;;;;;;;;;;;;;;;;;;;IAYMA;;;;;;;;;;;6BACK;mBAQH,KAAKC,KARF;UAELC,IAFK,UAELA,IAFK;UAGLC,gBAHK,UAGLA,gBAHK;UAILC,mBAJK,UAILA,mBAJK;UAKLC,eALK,UAKLA,eALK;UAMLC,MANK,UAMLA,MANK;UAOLC,QAPK,UAOLA,QAPK;;;UAUDC,YAAYF,MAAlB;;;;aAKEG;;UAAK,WAAU,MAAf;4BACuBC,GAApB,CAAwB;iBACvBD;;;yBACY,aADZ;mBAEOE,SAFP;qBAGS,EAAEC,2BAAyBD,YAAYJ,QAArC,QAAF;;yCAENM,kBAAD;mBACOF,SADP;+BAEmBN,eAFnB;gCAGoBF,gBAHpB;0BAIcD,KAAKY,mBAAL,CAAyBH,SAAzB,CAJd;wBAKYJ,QALZ;sBAMUC;;WAZW;SAAxB;OAFL;;;;;EAfeO;;AAsCnB,IAAMC,kBAAkB,SAAlBA,eAAkB;SAAU;UAC1BC,MAAMf,IADoB;sBAEdgB,wBAAaD,KAAb,CAFc;cAGtBE,2BAAgBF,KAAhB,CAHsB;yBAIXG,kCAAuBH,KAAvB,CAJW;qBAKfI,8BAAmBJ,KAAnB,CALe;YAMxBA,MAAMK,YAAN,CAAmBC;GANL;CAAxB;;AASA,aAAeC,mBAAQR,eAAR,EAAyBS,SAAzB,EAAoCA,SAApC,EAA+C;YAClDC;CADG,EAEZ1B,IAFY,CAAf;;;;"}