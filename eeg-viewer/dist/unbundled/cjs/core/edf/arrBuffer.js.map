{"version":3,"file":"arrBuffer.js","sources":["../../../../../js/lib/core/edf/arrBuffer.js"],"sourcesContent":["export default class ArrBuffer {\n  constructor(buffer) {\n    this.buffer = buffer;\n    this.cursor = 0;\n  }\n\n  read(size) {\n    return this._readFromBuffer(size);\n  }\n\n  _readFromBuffer(size) {\n    const done = this.buffer.length <= this.cursor;\n    if (this.buffer.length < this.cursor) {\n      console.warn(\n        'Trying to read past data boundary; source file may be corrupted.'\n      );\n    }\n    if (done) {\n      this.buffer = null;\n      this.cursor = null;\n      return Promise.resolve({ done, value: null });\n    }\n\n    const end = this.cursor + size;\n    const value = this.buffer.slice(this.cursor, end);\n    this.cursor = end;\n    return Promise.resolve({ done, value });\n  }\n}\n"],"names":["ArrBuffer","buffer","cursor","size","_readFromBuffer","done","length","warn","Promise","resolve","value","end","slice"],"mappings":";;;;;;IAAqBA;qBACPC,MAAZ,EAAoB;;;SACbA,MAAL,GAAcA,MAAd;SACKC,MAAL,GAAc,CAAd;;;;;yBAGGC,MAAM;aACF,KAAKC,eAAL,CAAqBD,IAArB,CAAP;;;;oCAGcA,MAAM;UACdE,OAAO,KAAKJ,MAAL,CAAYK,MAAZ,IAAsB,KAAKJ,MAAxC;UACI,KAAKD,MAAL,CAAYK,MAAZ,GAAqB,KAAKJ,MAA9B,EAAsC;gBAC5BK,IAAR,CACE,kEADF;;UAIEF,IAAJ,EAAU;aACHJ,MAAL,GAAc,IAAd;aACKC,MAAL,GAAc,IAAd;eACOM,QAAQC,OAAR,CAAgB,EAAEJ,UAAF,EAAQK,OAAO,IAAf,EAAhB,CAAP;;;UAGIC,MAAM,KAAKT,MAAL,GAAcC,IAA1B;UACMO,QAAQ,KAAKT,MAAL,CAAYW,KAAZ,CAAkB,KAAKV,MAAvB,EAA+BS,GAA/B,CAAd;WACKT,MAAL,GAAcS,GAAd;aACOH,QAAQC,OAAR,CAAgB,EAAEJ,UAAF,EAAQK,YAAR,EAAhB,CAAP;;;;;;;;;"}