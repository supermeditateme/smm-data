{"version":3,"file":"index.js","sources":["../../../../../js/lib/components/AnnotationsMinimap/index.js"],"sourcesContent":["import React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport { STORE_KEY } from '../../constants';\nimport { getFileDuration } from '../../selectors';\nimport { setCurrentTime } from '../../actions';\n\nclass Annotation extends PureComponent {\n  render() {\n    const { startX, width, cssClass = 'defaultAnnotation' } = this.props;\n\n    return (\n      <div\n        className={'annotationMini ' + cssClass}\n        style={{\n          transform: `translateX(${startX}px)`,\n          width,\n        }}\n      />\n    );\n  }\n}\n\nclass AnnotationsMinimap extends PureComponent {\n  jumpTo = e => {\n    const desiredTime =\n      e.nativeEvent.offsetX *\n      this.props.fileDuration /\n      this.props.scrollerWidth;\n    this.props.dispatch(setCurrentTime(desiredTime));\n  };\n\n  render() {\n    const { annotationsList, secondWidth, currentTime } = this.props;\n    const minimapCurrentPosition = currentTime * secondWidth;\n\n    return (\n      <div className=\"annotationsMinimap\" onClick={this.jumpTo}>\n        {annotationsList.map(annotation => (\n          <Annotation\n            key={annotation.id}\n            startX={annotation.time * secondWidth}\n            width={annotation.duration * secondWidth}\n            cssClass={annotation.cssClass}\n          />\n        ))}\n        <div\n          className=\"cursorMinimap\"\n          style={{\n            transform: `translateX(${minimapCurrentPosition}px)`,\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  annotationsList: state.annotations.list,\n  secondWidth:\n    state.presentation.scrollerWidth /\n    (state.header.dataRecordsNumber * state.header.dataRecordDuration || 1),\n  currentTime: state.navigation.currentTime,\n  scrollerWidth: state.presentation.scrollerWidth,\n  fileDuration: getFileDuration(state),\n});\n\nexport default connect(mapStateToProps, undefined, undefined, {\n  storeKey: STORE_KEY,\n})(AnnotationsMinimap);\n"],"names":["Annotation","props","startX","width","cssClass","PureComponent","AnnotationsMinimap","jumpTo","desiredTime","e","nativeEvent","offsetX","fileDuration","scrollerWidth","dispatch","setCurrentTime","annotationsList","secondWidth","currentTime","minimapCurrentPosition","map","annotation","id","time","duration","mapStateToProps","state","annotations","list","presentation","header","dataRecordsNumber","dataRecordDuration","navigation","getFileDuration","connect","undefined","STORE_KEY"],"mappings":";;;;;;;;;;;;;;;;;;;;;;IAOMA;;;;;;;;;;;6BACK;mBACmD,KAAKC,KADxD;UACCC,MADD,UACCA,MADD;UACSC,KADT,UACSA,KADT;mCACgBC,QADhB;UACgBA,QADhB,mCAC2B,mBAD3B;;;aAIL;mBACa,oBAAoBA,QADjC;eAES;qCACoBF,MAAzB,QADK;;;QAHX;;;;;EAJqBG;;IAgBnBC;;;;;;;;;;;;;;iNACJC,SAAS,aAAK;UACNC,cACJC,EAAEC,WAAF,CAAcC,OAAd,GACA,OAAKV,KAAL,CAAWW,YADX,GAEA,OAAKX,KAAL,CAAWY,aAHb;aAIKZ,KAAL,CAAWa,QAAX,CAAoBC,eAAeP,WAAf,CAApB;;;;;;6BAGO;oBAC+C,KAAKP,KADpD;UACCe,eADD,WACCA,eADD;UACkBC,WADlB,WACkBA,WADlB;UAC+BC,WAD/B,WAC+BA,WAD/B;;UAEDC,yBAAyBD,cAAcD,WAA7C;;aAGE;;UAAK,WAAU,oBAAf,EAAoC,SAAS,KAAKV,MAAlD;wBACmBa,GAAhB,CAAoB;iBACnB,oBAAC,UAAD;iBACOC,WAAWC,EADlB;oBAEUD,WAAWE,IAAX,GAAkBN,WAF5B;mBAGSI,WAAWG,QAAX,GAAsBP,WAH/B;sBAIYI,WAAWjB;YALJ;SAApB,CADH;;qBAUc,eADZ;iBAES;uCACoBe,sBAAzB;;;OAbR;;;;;EAb6Bd;;AAkCjC,IAAMoB,kBAAkB,SAAlBA,eAAkB;SAAU;qBACfC,MAAMC,WAAN,CAAkBC,IADH;iBAG9BF,MAAMG,YAAN,CAAmBhB,aAAnB,IACCa,MAAMI,MAAN,CAAaC,iBAAb,GAAiCL,MAAMI,MAAN,CAAaE,kBAA9C,IAAoE,CADrE,CAH8B;iBAKnBN,MAAMO,UAAN,CAAiBf,WALE;mBAMjBQ,MAAMG,YAAN,CAAmBhB,aANF;kBAOlBqB,gBAAgBR,KAAhB;GAPQ;CAAxB;;AAUA,2BAAeS,QAAQV,eAAR,EAAyBW,SAAzB,EAAoCA,SAApC,EAA+C;YAClDC;CADG,EAEZ/B,kBAFY,CAAf;;;;"}