"use strict";var _slicedToArray=function(){return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,r){var a=[],t=!0,n=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done)&&(a.push(o.value),!r||a.length!==r);t=!0);}catch(e){n=!0,l=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw l}}return a}(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),standardChannelNames=["fp1","fp2","f3","f4","c3","c4","p3","p4","o1","o2","f7","f8","t3","t4","t5","t6","a1","a2","fz","cz","pz","f9","f10","t9","t10","p9","p10","ecg"];function normalizeLabel(e){if(standardChannelNames.includes(e.toLowerCase()))return e.toLowerCase();var r=e.replace(".","").replace("-AA","").replace(" - AA","").split(" ");return(r[r.length-1]||e).toLowerCase()}function calculateCoordinates(e,r,a){var t={},n=0;r.forEach(function(r,a){for(var l=new Int16Array(30*r.sampleRate),o=0;o<30;o++){var i=e[o];if(!i){0;break}l.set(i.subarray(n,n+r.sampleRate),o*r.sampleRate)}t[r.label]=l,n+=r.sampleRate});var l=function(e){var a=e.split("-"),n=_slicedToArray(a,2),l=n[0],o=n[1],i=r.find(function(e){return normalizeLabel(e.label)===l}),f=r.find(function(e){return normalizeLabel(e.label)===o});if(!i||!f)return console.error("Channels not found! "+l+" , "+o),t[e]=new Int16Array(7680),"continue";if(i.sampleRate!==f.sampleRate)throw new Error("Sample rates do not match! "+l+" , "+o);for(var s=new Int16Array(30*i.sampleRate),c=s.length,u=0;u<c;u++)s[u]=t[i.label][u]-t[f.label][u];t[e]=s},o=!0,i=!1,f=void 0;try{for(var s,c=a[Symbol.iterator]();!(o=(s=c.next()).done);o=!0)l(s.value)}catch(e){i=!0,f=e}finally{try{!o&&c.return&&c.return()}finally{if(i)throw f}}return t}self.onmessage=function(e){e.data.close?close():self.postMessage(calculateCoordinates.apply(null,e.data))};
//# sourceMappingURL=calculateDerived.js.map
